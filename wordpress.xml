<?xml version="1.0" encoding="UTF-8"?>
<!--
 This is a WordPress eXtended RSS file generated by WordPress as an export of your site.
 It contains information about your site's posts, pages, comments, categories, and other content.
 You may use this file to transfer that content from one site to another.
 This file is not intended to serve as a complete backup of your site.

 To import this information into a WordPress site follow these steps:
 1. Log in to that site as an administrator.
 2. Go to Tools: Import in the WordPress admin panel.
 3. Install the "WordPress" importer from the list.
 4. Activate & Run Importer.
 5. Upload this file using the form provided on that page.
 6. You will first be asked to map the authors in this export file to users
    on the site. For each author, you may choose to map to an
    existing user on the site or to create a new user.
 7. WordPress will then import each of the posts, pages, comments, categories, etc.
    contained in this file into your site.
-->
<!-- generator="WordPress/3.9.2" created="2014-08-23 00:50" -->
<rss version="2.0" xmlns:excerpt="http://wordpress.org/export/1.2/excerpt/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:wfw="http://wellformedweb.org/CommentAPI/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:wp="http://wordpress.org/export/1.2/">
  <channel>
<title>jarland.me</title>
<link>https://jarland.me</link>
<description>Rantings of a sysadmin</description>
<pubDate>Sat, 23 Aug 2014 00:50:13 +0000</pubDate>
<language>en-US</language>
<wp:wxr_version>1.2</wp:wxr_version>
<wp:base_site_url>https://jarland.me</wp:base_site_url>
<wp:base_blog_url>https://jarland.me</wp:base_blog_url>
<wp:wp_author>
  <wp:author_login>jarland</wp:author_login>
  <wp:author_email>me@jarland.me</wp:author_email>
  <wp:author_display_name><![CDATA[jarland]]></wp:author_display_name>
  <wp:author_first_name><![CDATA[]]></wp:author_first_name>
  <wp:author_last_name><![CDATA[]]></wp:author_last_name>
</wp:wp_author>
<wp:category>
  <wp:term_id>2</wp:term_id>
  <wp:category_nicename>blog</wp:category_nicename>
  <wp:category_parent></wp:category_parent>
  <wp:cat_name><![CDATA[Blog]]></wp:cat_name>
</wp:category>
<wp:category>
  <wp:term_id>3</wp:term_id>
  <wp:category_nicename>scripts</wp:category_nicename>
  <wp:category_parent></wp:category_parent>
  <wp:cat_name><![CDATA[Scripts]]></wp:cat_name>
</wp:category>
<wp:category>
  <wp:term_id>4</wp:term_id>
  <wp:category_nicename>tutorials</wp:category_nicename>
  <wp:category_parent></wp:category_parent>
  <wp:cat_name><![CDATA[Tutorials]]></wp:cat_name>
</wp:category>
<wp:category>
  <wp:term_id>1</wp:term_id>
  <wp:category_nicename>uncategorized</wp:category_nicename>
  <wp:category_parent></wp:category_parent>
  <wp:cat_name><![CDATA[Uncategorized]]></wp:cat_name>
</wp:category>
<generator>http://wordpress.org/?v=3.9.2</generator>
<item>
  <title>Hello world!</title>
  <link>https://jarland.me/hello-world/</link>
  <pubDate>Fri, 08 Aug 2014 13:00:11 +0000</pubDate>
  <dc:creator>jarland</dc:creator>
  <guid isPermaLink="false">http://jarland.me/?p=1</guid>
  <description></description>
  <content:encoded><![CDATA[Welcome to WordPress. This is your first post. Edit or delete it, then start blogging!]]></content:encoded>
  <excerpt:encoded><![CDATA[]]></excerpt:encoded>
  <wp:post_id>1</wp:post_id>
  <wp:post_date>2014-08-08 13:00:11</wp:post_date>
  <wp:post_date_gmt>2014-08-08 13:00:11</wp:post_date_gmt>
  <wp:comment_status>closed</wp:comment_status>
  <wp:ping_status>open</wp:ping_status>
  <wp:post_name>hello-world</wp:post_name>
  <wp:status>trash</wp:status>
  <wp:post_parent>0</wp:post_parent>
  <wp:menu_order>0</wp:menu_order>
  <wp:post_type>post</wp:post_type>
  <wp:post_password></wp:post_password>
  <wp:is_sticky>0</wp:is_sticky>
  <category domain="category" nicename="uncategorized"><![CDATA[Uncategorized]]></category>
  <wp:postmeta>
    <wp:meta_key>_edit_last</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_wp_trash_meta_status</wp:meta_key>
    <wp:meta_value><![CDATA[publish]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_wp_trash_meta_time</wp:meta_key>
    <wp:meta_value><![CDATA[1408489930]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_wp_trash_meta_comments_status</wp:meta_key>
    <wp:meta_value><![CDATA[a:1:{i:1;s:5:"trash";}]]></wp:meta_value>
  </wp:postmeta>
  <wp:comment>
    <wp:comment_id>1</wp:comment_id>
    <wp:comment_author><![CDATA[Mr WordPress]]></wp:comment_author>
    <wp:comment_author_email></wp:comment_author_email>
    <wp:comment_author_url>https://wordpress.org/</wp:comment_author_url>
    <wp:comment_author_IP></wp:comment_author_IP>
    <wp:comment_date>2014-08-08 13:00:11</wp:comment_date>
    <wp:comment_date_gmt>2014-08-08 13:00:11</wp:comment_date_gmt>
    <wp:comment_content><![CDATA[Hi, this is a comment.
To delete a comment, just log in and view the post&#039;s comments. There you will have the option to edit or delete them.]]></wp:comment_content>
    <wp:comment_approved>post-trashed</wp:comment_approved>
    <wp:comment_type></wp:comment_type>
    <wp:comment_parent>0</wp:comment_parent>
    <wp:comment_user_id>0</wp:comment_user_id>
    <wp:commentmeta>
      <wp:meta_key>_wp_trash_meta_status</wp:meta_key>
      <wp:meta_value>1</wp:meta_value>
    </wp:commentmeta>
    <wp:commentmeta>
      <wp:meta_key>_wp_trash_meta_time</wp:meta_key>
      <wp:meta_value>1408489924</wp:meta_value>
    </wp:commentmeta>
  </wp:comment>
</item>
<item>
  <title>Sample Page</title>
  <link>https://jarland.me/sample-page/</link>
  <pubDate>Fri, 08 Aug 2014 13:00:11 +0000</pubDate>
  <dc:creator>jarland</dc:creator>
  <guid isPermaLink="false">http://jarland.me/?page_id=2</guid>
  <description></description>
  <content:encoded><![CDATA[This is an example page. It's different from a blog post because it will stay in one place and will show up in your site navigation (in most themes). Most people start with an About page that introduces them to potential site visitors. It might say something like this:

<blockquote>Hi there! I'm a bike messenger by day, aspiring actor by night, and this is my blog. I live in Los Angeles, have a great dog named Jack, and I like pi&#241;a coladas. (And gettin' caught in the rain.)</blockquote>

...or something like this:

<blockquote>The XYZ Doohickey Company was founded in 1971, and has been providing quality doohickeys to the public ever since. Located in Gotham City, XYZ employs over 2,000 people and does all kinds of awesome things for the Gotham community.</blockquote>

As a new WordPress user, you should go to <a href="http://jarland.me/wp-admin/">your dashboard</a> to delete this page and create new pages for your content. Have fun!]]></content:encoded>
  <excerpt:encoded><![CDATA[]]></excerpt:encoded>
  <wp:post_id>2</wp:post_id>
  <wp:post_date>2014-08-08 13:00:11</wp:post_date>
  <wp:post_date_gmt>2014-08-08 13:00:11</wp:post_date_gmt>
  <wp:comment_status>open</wp:comment_status>
  <wp:ping_status>open</wp:ping_status>
  <wp:post_name>sample-page</wp:post_name>
  <wp:status>trash</wp:status>
  <wp:post_parent>0</wp:post_parent>
  <wp:menu_order>0</wp:menu_order>
  <wp:post_type>page</wp:post_type>
  <wp:post_password></wp:post_password>
  <wp:is_sticky>0</wp:is_sticky>
  <wp:postmeta>
    <wp:meta_key>_wp_page_template</wp:meta_key>
    <wp:meta_value><![CDATA[default]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_wp_trash_meta_status</wp:meta_key>
    <wp:meta_value><![CDATA[publish]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_wp_trash_meta_time</wp:meta_key>
    <wp:meta_value><![CDATA[1408489938]]></wp:meta_value>
  </wp:postmeta>
</item>
<item>
  <title>Install OpenVZ on CentOS 6</title>
  <link>https://jarland.me/install-openvz-on-centos-6/</link>
  <pubDate>Tue, 05 Nov 2013 04:03:32 +0000</pubDate>
  <dc:creator>jarland</dc:creator>
  <guid isPermaLink="false">http://blog.jarland.me/?p=6</guid>
  <description></description>
  <content:encoded><![CDATA[I have put together a script for installing OpenVZ on CentOS 6. Part of this script was borrowed from Tim at hostigation.com.

<!--more-->
<pre>#!/bin/bash
yum update -y
yum install -y wget
cd /etc/yum.repos.d
wget http://download.openvz.org/openvz.repo
rpm --import http://download.openvz.org/RPM-GPG-Key-OpenVZ
yum install -y vzkernel.x86_64
yum install -y vzctl vzquota
sed -i 's/kernel.sysrq = 0/kernel.sysrq = 1/g' /etc/sysctl.conf
sed -i 's/net.ipv4.ip_forward = 0/net.ipv4.ip_forward = 1/g' /etc/sysctl.conf
echo 'net.ipv4.conf.default.proxy_arp = 0' &gt;&gt; /etc/sysctl.conf
echo 'net.ipv4.conf.all.rp_filter = 1' &gt;&gt; /etc/sysctl.conf
echo 'net.ipv4.conf.default.send_redirects = 1' &gt;&gt; /etc/sysctl.conf
echo 'net.ipv4.conf.all.send_redirects = 0' &gt;&gt; /etc/sysctl.conf
echo 'net.ipv4.icmp_echo_ignore_broadcasts=1' &gt;&gt; /etc/sysctl.conf
echo 'net.ipv4.conf.default.forwarding=1' &gt;&gt; /etc/sysctl.conf
sysctl -p
sed -i 's/NEIGHBOUR_DEVS=detect/NEIGHBOUR_DEVS=all/g' /etc/vz/vz.conf
sed -i 's/SELINUX=enabled/SELINUX=disabled/g' /etc/sysconfig/selinux
cd /vz/template/cache
wget http://download.openvz.org/template/precreated/centos-6-x86_64.tar.gz
yum install -y ntp
ntpdate -u us.pool.ntp.org
chkconfig ntpd on
iptables -D FORWARD 1</pre>
After you run this, assuming all goes as it should, just reboot and you'll be all set!]]></content:encoded>
  <excerpt:encoded><![CDATA[]]></excerpt:encoded>
  <wp:post_id>18</wp:post_id>
  <wp:post_date>2013-11-05 04:03:32</wp:post_date>
  <wp:post_date_gmt>2013-11-05 04:03:32</wp:post_date_gmt>
  <wp:comment_status>open</wp:comment_status>
  <wp:ping_status>open</wp:ping_status>
  <wp:post_name>install-openvz-on-centos-6</wp:post_name>
  <wp:status>publish</wp:status>
  <wp:post_parent>0</wp:post_parent>
  <wp:menu_order>0</wp:menu_order>
  <wp:post_type>post</wp:post_type>
  <wp:post_password></wp:post_password>
  <wp:is_sticky>0</wp:is_sticky>
  <category domain="category" nicename="scripts"><![CDATA[Scripts]]></category>
  <wp:postmeta>
    <wp:meta_key>_wpas_done_all</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_edit_last</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_et_post_bg_color</wp:meta_key>
    <wp:meta_value><![CDATA[#ffffff]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_et_post_bg_layout</wp:meta_key>
    <wp:meta_value><![CDATA[dark]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_format_link_url</wp:meta_key>
    <wp:meta_value><![CDATA[]]></wp:meta_value>
  </wp:postmeta>
  <wp:comment>
    <wp:comment_id>3</wp:comment_id>
    <wp:comment_author><![CDATA[James]]></wp:comment_author>
    <wp:comment_author_email>james.coyle@jamescoyle.net</wp:comment_author_email>
    <wp:comment_author_url>http://www.jamescoyle.net</wp:comment_author_url>
    <wp:comment_author_IP>127.0.0.1</wp:comment_author_IP>
    <wp:comment_date>2013-11-06 13:08:36</wp:comment_date>
    <wp:comment_date_gmt>2013-11-06 13:08:36</wp:comment_date_gmt>
    <wp:comment_content><![CDATA[Hi,

This looks nice and easy! I'd recommend removing the 'reboot' at the end - otherwise you won't have chance to see if any errors occurred as they are not logged. 

The other option is to stick '&gt;&gt;output.log 2&gt;&amp;1' on the end of everything. 

Cheers,

James.]]></wp:comment_content>
    <wp:comment_approved>1</wp:comment_approved>
    <wp:comment_type></wp:comment_type>
    <wp:comment_parent>0</wp:comment_parent>
    <wp:comment_user_id>0</wp:comment_user_id>
  </wp:comment>
  <wp:comment>
    <wp:comment_id>4</wp:comment_id>
    <wp:comment_author><![CDATA[jarland]]></wp:comment_author>
    <wp:comment_author_email>me@jarland.me</wp:comment_author_email>
    <wp:comment_author_url></wp:comment_author_url>
    <wp:comment_author_IP>98.199.45.152</wp:comment_author_IP>
    <wp:comment_date>2013-11-08 07:03:54</wp:comment_date>
    <wp:comment_date_gmt>2013-11-08 07:03:54</wp:comment_date_gmt>
    <wp:comment_content><![CDATA[Fair point! Updated :)]]></wp:comment_content>
    <wp:comment_approved>1</wp:comment_approved>
    <wp:comment_type></wp:comment_type>
    <wp:comment_parent>3</wp:comment_parent>
    <wp:comment_user_id>1</wp:comment_user_id>
  </wp:comment>
  <wp:comment>
    <wp:comment_id>5</wp:comment_id>
    <wp:comment_author><![CDATA[Gordon]]></wp:comment_author>
    <wp:comment_author_email>sales@incero.com</wp:comment_author_email>
    <wp:comment_author_url>http://www.Incero.com</wp:comment_author_url>
    <wp:comment_author_IP>70.114.194.67</wp:comment_author_IP>
    <wp:comment_date>2014-03-01 21:01:47</wp:comment_date>
    <wp:comment_date_gmt>2014-03-01 21:01:47</wp:comment_date_gmt>
    <wp:comment_content><![CDATA[I added the following two lines to your script for my usage (no warranties made as to mirror consistency with the official mirror):

wget -r -np -nd http://mirror.incero.com/openvz/ -P /vz/template/cache/
ln -sf /usr/share/zoneinfo/US/Central /etc/localtime

Thanks!]]></wp:comment_content>
    <wp:comment_approved>1</wp:comment_approved>
    <wp:comment_type></wp:comment_type>
    <wp:comment_parent>0</wp:comment_parent>
    <wp:comment_user_id>0</wp:comment_user_id>
  </wp:comment>
  <wp:comment>
    <wp:comment_id>6</wp:comment_id>
    <wp:comment_author><![CDATA[admin]]></wp:comment_author>
    <wp:comment_author_email>me@jarland.me</wp:comment_author_email>
    <wp:comment_author_url></wp:comment_author_url>
    <wp:comment_author_IP>98.199.45.152</wp:comment_author_IP>
    <wp:comment_date>2014-03-01 21:08:40</wp:comment_date>
    <wp:comment_date_gmt>2014-03-01 21:08:40</wp:comment_date_gmt>
    <wp:comment_content><![CDATA[Awesome! Finally a mirror I can use that won't transfer like HE on a good day.]]></wp:comment_content>
    <wp:comment_approved>1</wp:comment_approved>
    <wp:comment_type></wp:comment_type>
    <wp:comment_parent>5</wp:comment_parent>
    <wp:comment_user_id>1</wp:comment_user_id>
  </wp:comment>
  <wp:comment>
    <wp:comment_id>7</wp:comment_id>
    <wp:comment_author><![CDATA[Gordon]]></wp:comment_author>
    <wp:comment_author_email>sales@incero.com</wp:comment_author_email>
    <wp:comment_author_url>http://www.incero.com</wp:comment_author_url>
    <wp:comment_author_IP>162.212.59.218</wp:comment_author_IP>
    <wp:comment_date>2014-03-02 04:57:25</wp:comment_date>
    <wp:comment_date_gmt>2014-03-02 04:57:25</wp:comment_date_gmt>
    <wp:comment_content><![CDATA[I guess we need some ploop too :-)
yum -y install ploop
or
yum -y install ploop*]]></wp:comment_content>
    <wp:comment_approved>1</wp:comment_approved>
    <wp:comment_type></wp:comment_type>
    <wp:comment_parent>6</wp:comment_parent>
    <wp:comment_user_id>0</wp:comment_user_id>
  </wp:comment>
</item>
<item>
  <title>Install LXC + Panel on Ubuntu 13.04 w/NAT</title>
  <link>https://jarland.me/install-lxc-panel-on-ubuntu-13-04-wnat/</link>
  <pubDate>Tue, 05 Nov 2013 23:56:29 +0000</pubDate>
  <dc:creator>jarland</dc:creator>
  <guid isPermaLink="false">http://blog.jarland.me/?p=11</guid>
  <description></description>
  <content:encoded><![CDATA[Sometimes OpenVZ is more than I want on a dedicated server. Sometimes I want a new kernel. LXC is container based "virtualization" that provides a native performance alongside the host operating system, much like OpenVZ does. Additionally, sometimes I want to separate the environment which houses my individual services but I don't necessarily need a bunch of IPs. I might have ZNC in one, a web server in another, nothing that particularly conflicts, I just prefer the service isolation. This is how I achieve the result that I desire.

<!--more-->

Here is a look at the web based administration panel that you will be working with.

<a href="http://jarland.me/wp-content/uploads/2013/12/screenshot01s.png"><img class="alignnone size-full wp-image-23" alt="screenshot01s" src="http://jarland.me/wp-content/uploads/2013/12/screenshot01s.png" width="700" height="318" /></a>

On a fresh installation of Ubuntu 13.04, run the following command:
<blockquote>apt-get update &amp;&amp; apt-get -y upgrade &amp;&amp; apt-get -y install lxc</blockquote>
After this finishes, it's time to install LXC Web Panel.
<blockquote>wget http://lxc-webpanel.github.io/tools/install.sh -O - | bash</blockquote>
Once this installs, visit http://[your IP or hostname]:5000 and login with the credentials below.
<blockquote>Username: admin
Password: admin</blockquote>
Obviously you are going to want to change that inside the panel. While I enjoy writing, I am going to intentionally leave out how to create a new LXC container inside this web interface. I'll give you a hint, it involves "Create CT."

LXC Web Panel is going to create a new container for you with an internal IP address. Use the following guide:
<blockquote>[one] - Port to forward to the container.
[two] - Your primary network interface. Usually eth0 or eth1.
[three] - The IP of the container.
[four] - The port you want to send the traffic to on the container.</blockquote>
To replace the correct parts of the following iptables command:
<blockquote>iptables -t nat -A PREROUTING -m tcp -p tcp --dport [one] -j DNAT -i [two] --to-destination [three]:[four]</blockquote>
For example, if my LXC container is 10.0.1.3 and I want to forward web requests, on port 80, to the container, I would use the following:
<blockquote>iptables -t nat -A PREROUTING -m tcp -p tcp --dport 80 -j DNAT -i eth0 --to-destination 10.0.1.3:80</blockquote>
Now here's the fun part. How do we control the container via command line? Here's the most useful ones for basic functionality.
<blockquote>List containers:
lxc-list

Enter container:
lxc-attach —-name [container name]

Start container:
lxc-start —-name [container name]

Stop container:
lxc-stop —-name [container name]</blockquote>
Questions? Things that should be added? Feel free to add it in the comments!]]></content:encoded>
  <excerpt:encoded><![CDATA[]]></excerpt:encoded>
  <wp:post_id>19</wp:post_id>
  <wp:post_date>2013-11-05 23:56:29</wp:post_date>
  <wp:post_date_gmt>2013-11-05 23:56:29</wp:post_date_gmt>
  <wp:comment_status>open</wp:comment_status>
  <wp:ping_status>open</wp:ping_status>
  <wp:post_name>install-lxc-panel-on-ubuntu-13-04-wnat</wp:post_name>
  <wp:status>publish</wp:status>
  <wp:post_parent>0</wp:post_parent>
  <wp:menu_order>0</wp:menu_order>
  <wp:post_type>post</wp:post_type>
  <wp:post_password></wp:post_password>
  <wp:is_sticky>0</wp:is_sticky>
  <category domain="category" nicename="tutorials"><![CDATA[Tutorials]]></category>
  <wp:postmeta>
    <wp:meta_key>_wpas_done_all</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_edit_last</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_et_post_bg_color</wp:meta_key>
    <wp:meta_value><![CDATA[#ffffff]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_et_post_bg_layout</wp:meta_key>
    <wp:meta_value><![CDATA[dark]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_format_link_url</wp:meta_key>
    <wp:meta_value><![CDATA[]]></wp:meta_value>
  </wp:postmeta>
  <wp:comment>
    <wp:comment_id>8</wp:comment_id>
    <wp:comment_author><![CDATA[Ryan]]></wp:comment_author>
    <wp:comment_author_email>ryan@rmlh.uk</wp:comment_author_email>
    <wp:comment_author_url></wp:comment_author_url>
    <wp:comment_author_IP>142.4.208.66</wp:comment_author_IP>
    <wp:comment_date>2014-07-20 08:05:25</wp:comment_date>
    <wp:comment_date_gmt>2014-07-20 08:05:25</wp:comment_date_gmt>
    <wp:comment_content><![CDATA[The screenshot has stopped working.]]></wp:comment_content>
    <wp:comment_approved>1</wp:comment_approved>
    <wp:comment_type></wp:comment_type>
    <wp:comment_parent>0</wp:comment_parent>
    <wp:comment_user_id>0</wp:comment_user_id>
  </wp:comment>
</item>
<item>
  <title>Optimizing Wordpress</title>
  <link>https://jarland.me/?p=20</link>
  <pubDate>Wed, 30 Nov -0001 00:00:00 +0000</pubDate>
  <dc:creator>jarland</dc:creator>
  <guid isPermaLink="false">http://blog.jarland.me/?p=17</guid>
  <description></description>
  <content:encoded><![CDATA[Throughout the years I have worked with Wordpress installations whether it be for friends, family, colleagues, or for a company. Wordpress is an excellent platform, and one that many of us like to refer people to that may not have a background in web development, but wants to design and publish their own website. It is that line between easy to use and capable of endless extension. However, what ends up happening is that we send all of these new Wordpress users out into the world with no understanding of the consequences of not maintaining or optimizing their website.]]></content:encoded>
  <excerpt:encoded><![CDATA[]]></excerpt:encoded>
  <wp:post_id>20</wp:post_id>
  <wp:post_date>2013-11-08 07:21:50</wp:post_date>
  <wp:post_date_gmt>0000-00-00 00:00:00</wp:post_date_gmt>
  <wp:comment_status>open</wp:comment_status>
  <wp:ping_status>open</wp:ping_status>
  <wp:post_name></wp:post_name>
  <wp:status>draft</wp:status>
  <wp:post_parent>0</wp:post_parent>
  <wp:menu_order>0</wp:menu_order>
  <wp:post_type>post</wp:post_type>
  <wp:post_password></wp:post_password>
  <wp:is_sticky>0</wp:is_sticky>
  <category domain="category" nicename="uncategorized"><![CDATA[Uncategorized]]></category>
  <wp:postmeta>
    <wp:meta_key>_edit_last</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_et_post_bg_color</wp:meta_key>
    <wp:meta_value><![CDATA[#ffffff]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_et_post_bg_layout</wp:meta_key>
    <wp:meta_value><![CDATA[dark]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_format_link_url</wp:meta_key>
    <wp:meta_value><![CDATA[]]></wp:meta_value>
  </wp:postmeta>
</item>
<item>
  <title>Tutorial: CentOS 6.4 Apache+MySQL+PHP+mod_pagespeed+Varnish</title>
  <link>https://jarland.me/tutorial-centos-6-4-apachemysqlphpmod_pagespeedvarnish/</link>
  <pubDate>Mon, 11 Nov 2013 01:54:48 +0000</pubDate>
  <dc:creator>jarland</dc:creator>
  <guid isPermaLink="false">http://blog.jarland.me/?p=19</guid>
  <description></description>
  <content:encoded><![CDATA[Title a bit long there? Yeah buddy. I'm not going to tell you how to set up a web server that sits idle with 3MB of RAM usage. No sir. I'm going to tell you how to set up a web server that laughs in the face of high traffic and serves it with dignity. I hover at around 380-400MB of memory in use at all times on this server. The trade off? A few thousand page views has less of an impact on how it scales beyond that much more efficiently. <!--more-->

When I set out on this project, I had a list of demands. I'm going to share these with you, because it also doubles as a list of what we're accomplishing with this tutorial.
<blockquote><strong>Setup</strong>: Must be Apache, MySQL, PHP. Layers on top of that are fine, but no hipster web servers or NoSQL crap. When something isn't doing the job, I fix it, I don't just switch to the flavor of the month.

<strong>Security</strong>: Must have each site executed as a different Unix user account. When one website gets exploited, the user executing the PHP should not have permission to alter the files of another website. I want to isolate future unfortunate events.

<strong>Features</strong>: Speed. A lot of it. Reasonable compliance with PageSpeed. Minimal impact from high traffic.</blockquote>
To accomplish this we will be using CentOS 6.4 64-bit. This guide assumes you have already installed and updated your OS. Let's get started.
<h2>Apache</h2>
<strong>First, we're going to install and configure Apache.</strong>
<blockquote>yum install httpd</blockquote>
Let's create a new user for your first website.
<blockquote>adduser website</blockquote>
Then set a password.
<blockquote>passwd website</blockquote>
Now we need to install the EPEL repo.
<blockquote>wget http://epel.mirror.constant.com/6/i386/epel-release-6-8.noarch.rpm
rpm -i epel*.rpm</blockquote>
Then we install mpm-itk.
<blockquote>yum install httpd-itk.x86_64</blockquote>
Then edit /etc/sysconfig/httpd and uncomment this line and change anything necessary to make it match.
<blockquote>HTTPD=/usr/sbin/httpd.itk</blockquote>
We need to set up virtual hosts. Create the following file in /etc/httpd/conf.d and name it something like virtualhosts.conf.
<blockquote> NameVirtualHost *:82

&lt;VirtualHost *:82&gt;
ServerAdmin youremail@yourdomain.tld
ServerName yourdomain.tld
ServerAlias www.yourdomain.tld
DocumentRoot /home/yourdomain.tld/public_html/
ErrorLog /home/yourdomain.tld/logs/error.log
CustomLog /home/yourdomain.tld/logs/access.log combined
AssignUserId user group
&lt;/VirtualHost&gt;</blockquote>
Obviously you will want to replace the pieces above that fit your needs. Let's go ahead and make the folders.
<blockquote>mkdir -p /home/yourdomain.tld/{public_html,logs}
chown -R website.website /home/yourdomain.tld</blockquote>
Next, change this in /etc/httpd/conf/httpd.conf
<blockquote>Listen 80</blockquote>
Change to:
<blockquote>Listen 82</blockquote>
Now start up Apache and set it to start at boot.
<blockquote>service httpd start
chkconfig httpd on</blockquote>
<h2>MySQL</h2>
<strong>Now we will install and configure MySQL.</strong>
<blockquote>yum install mysql-server
chkconfig mysqld on
service mysqld start</blockquote>
Then run the following to secure the base installation.
<blockquote>mysql_secure_installation</blockquote>
Set the root password, disable remote root login, remove anonymous users. remove test database, reload tables. Now let's make sure you can execute MySQL from command line later without any trouble. Create the following file as /root/.my.cnf
<blockquote>[mysql]
user=root
password=your MySQL root password
[mysqldump]
user=root
password=your MySQL root password</blockquote>
<h2>PHP</h2>
<strong>Now on to installing PHP.</strong>
<blockquote>yum install php php-pear php-xml</blockquote>
Then replace the settings in /etc/php.ini with the values below.
<blockquote>error_reporting = E_COMPILE_ERROR|E_RECOVERABLE_ERROR|E_ERROR|E_CORE_ERROR
display_errors = Off
log_errors = On
error_log = /var/log/php.log
max_execution_time = 300
memory_limit = 256M
register_globals = Off</blockquote>
Then run the following.
<blockquote>yum install php-mysql</blockquote>
Then add the following to the top of /etc/httpd/conf.d/php.conf
<blockquote>&lt;IfModule itk.c&gt;
LoadModule php5_module modules/libphp5.so
&lt;/IfModule&gt;</blockquote>
Your LAMP server is configured, but your Apache is listening on port 82. That's fine, because we're installing Varnish on port 80. We're almost there, I promise.
<h2>mod_pagespeed</h2>
<strong>Let's go ahead and install mod_pagespeed.</strong>

Download and install mod_pagespeed to/from your current directory.
<blockquote>wget https://dl-ssl.google.com/dl/linux/direct/mod-pagespeed-stable_current_x86_64.rpm
rpm -U mod-pagespeed*.rpm</blockquote>
Then restart Apache.
<blockquote>service httpd restart</blockquote>
That was easy, right? On to Varnish.
<h2>Varnish</h2>
<strong>Let's get Varnish installed.</strong>

Run the following to install the Atomic repo and Varnish.

rpm -Uvh  http://www6.atomicorp.com/channels/atomic/centos/6/i386/RPMS/atomic-release-1.0-16.el6.art.noarch.rpm
yum install varnish

Then edit /etc/varnish/default.vcl and replace the following:
<blockquote>.port = "80”;</blockquote>
With this:
<blockquote>.port = "82”;</blockquote>
Then edit /etc/sysconfig/varnish and make sure that the following is set as specified:
<blockquote>VARNISH_LISTEN_PORT=80</blockquote>
Now just restart Varnish.
<blockquote>service varnish restart</blockquote>
Enjoy your new amazing web server. Don't be running this on 256MB of memory. Give it 2GB for room to grow.]]></content:encoded>
  <excerpt:encoded><![CDATA[]]></excerpt:encoded>
  <wp:post_id>21</wp:post_id>
  <wp:post_date>2013-11-11 01:54:48</wp:post_date>
  <wp:post_date_gmt>2013-11-11 01:54:48</wp:post_date_gmt>
  <wp:comment_status>open</wp:comment_status>
  <wp:ping_status>open</wp:ping_status>
  <wp:post_name>tutorial-centos-6-4-apachemysqlphpmod_pagespeedvarnish</wp:post_name>
  <wp:status>publish</wp:status>
  <wp:post_parent>0</wp:post_parent>
  <wp:menu_order>0</wp:menu_order>
  <wp:post_type>post</wp:post_type>
  <wp:post_password></wp:post_password>
  <wp:is_sticky>0</wp:is_sticky>
  <category domain="category" nicename="tutorials"><![CDATA[Tutorials]]></category>
  <wp:postmeta>
    <wp:meta_key>_wpas_done_all</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_edit_last</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_et_post_bg_color</wp:meta_key>
    <wp:meta_value><![CDATA[#ffffff]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_et_post_bg_layout</wp:meta_key>
    <wp:meta_value><![CDATA[dark]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_format_link_url</wp:meta_key>
    <wp:meta_value><![CDATA[]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_wpas_done_all</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
</item>
<item>
  <title>About Me</title>
  <link>https://jarland.me/about-me/</link>
  <pubDate>Sat, 28 Dec 2013 18:47:53 +0000</pubDate>
  <dc:creator>jarland</dc:creator>
  <guid isPermaLink="false">http://jarland.me/?page_id=28</guid>
  <description></description>
  <content:encoded><![CDATA[<a href="http://jarland.me/wp-content/uploads/2014/05/552594_1394045960816907_501387764_n.jpg"><img class="alignleft wp-image-35 size-medium" src="http://jarland.me/wp-content/uploads/2014/02/552594_1394045960816907_501387764_n-300x300.jpg" alt="552594_1394045960816907_501387764_n" width="300" height="300" /></a>Hello there! My name is Jarland Donnell and I am a self proclaimed Linux System Administrator. I started this blog to document the things that I learn along the way, as well as share what I learn with others who are interested in the same field as myself.

In 2011, together with my friend Ryan Arp, we started a company named Catalyst Host. I have since left Catalyst Host but I still work in the hosting industry. That's all there is to say about me. Keep it simple!]]></content:encoded>
  <excerpt:encoded><![CDATA[]]></excerpt:encoded>
  <wp:post_id>28</wp:post_id>
  <wp:post_date>2013-12-28 18:47:53</wp:post_date>
  <wp:post_date_gmt>2013-12-28 18:47:53</wp:post_date_gmt>
  <wp:comment_status>open</wp:comment_status>
  <wp:ping_status>open</wp:ping_status>
  <wp:post_name>about-me</wp:post_name>
  <wp:status>publish</wp:status>
  <wp:post_parent>0</wp:post_parent>
  <wp:menu_order>0</wp:menu_order>
  <wp:post_type>page</wp:post_type>
  <wp:post_password></wp:post_password>
  <wp:is_sticky>0</wp:is_sticky>
  <wp:postmeta>
    <wp:meta_key>_wpas_done_all</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_edit_last</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_wp_page_template</wp:meta_key>
    <wp:meta_value><![CDATA[default]]></wp:meta_value>
  </wp:postmeta>
</item>
<item>
  <title>Shared Hosting Experiment</title>
  <link>https://jarland.me/shared-hosting-experiment/</link>
  <pubDate>Thu, 27 Feb 2014 03:44:54 +0000</pubDate>
  <dc:creator>jarland</dc:creator>
  <guid isPermaLink="false">http://jarland.me/?p=31</guid>
  <description></description>
  <content:encoded><![CDATA[UPDATE:
May 09, 2014

This experiment died before I was ready to start publishing data. GoDaddy web hosting includes a 1MB/s IO limit, website suspension for excessively low CPU usage from the lightest of Wordpress brute force attacks, and if you manage to go with their Wordpress hosting it comes free with random downtime acknowledged only later with a statement equal to "Well it's working now." While they have done a LOT to improve their image and their product, it is not production quality hosting for a single user with light traffic.

--------------------

Throughout the years I have always witnessed a consistent attitude among self-proclaimed power users and obsessive but not so informed regular users. That attitude is one that frequently proclaims "Shared hosting sucks." It isn't usually stated so clearly. Usually the feeling is expressed more similarly to "The company I am hosting with this month sucks." I will watch these users rotate, rarely happy with a big name company.

Well it is my opinion that shared web hosting companies are all relatively similar. I hear horrible stories about all of the big names in the industry. Sometimes I think people stop obsessively checking their websites on the smaller companies, or finally accept certain things as "normal" that they didn't before, leading to decreased complaining when they finally realize that they simply are not going to get any better in the market they are shopping in.

How strongly do I feel about this opinion? This self-proclaimed power user and Linux system administrator has decided to go production on shared hosting for one year. I'm willing to put my money where my mouth is. I've chosen the most typical of the companies that "suck" according to most. I've chosen one that I have no bias over. I've chosen GoDaddy for this experiment.

In the next few days, a new blog will be launched to keep up with this experiment. This will include statistics and experiences of my year as a client of a company that means nothing special to me, that has been labeled "crap" by so many outspoken people for several years. The story isn't mine to tell, it's up to the host to decide how this story plays out. I, for one, am excited to see what happens. Stay tuned for the announcement of the launch of the new blog.]]></content:encoded>
  <excerpt:encoded><![CDATA[]]></excerpt:encoded>
  <wp:post_id>31</wp:post_id>
  <wp:post_date>2014-02-27 03:44:54</wp:post_date>
  <wp:post_date_gmt>2014-02-27 03:44:54</wp:post_date_gmt>
  <wp:comment_status>open</wp:comment_status>
  <wp:ping_status>open</wp:ping_status>
  <wp:post_name>shared-hosting-experiment</wp:post_name>
  <wp:status>publish</wp:status>
  <wp:post_parent>0</wp:post_parent>
  <wp:menu_order>0</wp:menu_order>
  <wp:post_type>post</wp:post_type>
  <wp:post_password></wp:post_password>
  <wp:is_sticky>0</wp:is_sticky>
  <category domain="category" nicename="blog"><![CDATA[Blog]]></category>
  <wp:postmeta>
    <wp:meta_key>_wpas_done_all</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_edit_last</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_wpas_done_all</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_et_post_bg_color</wp:meta_key>
    <wp:meta_value><![CDATA[#ffffff]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_et_post_bg_layout</wp:meta_key>
    <wp:meta_value><![CDATA[dark]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_format_link_url</wp:meta_key>
    <wp:meta_value><![CDATA[]]></wp:meta_value>
  </wp:postmeta>
  <wp:comment>
    <wp:comment_id>9</wp:comment_id>
    <wp:comment_author><![CDATA[thekreek]]></wp:comment_author>
    <wp:comment_author_email>hkampokalas@gmail.com</wp:comment_author_email>
    <wp:comment_author_url></wp:comment_author_url>
    <wp:comment_author_IP>189.223.80.246</wp:comment_author_IP>
    <wp:comment_date>2014-02-27 19:39:44</wp:comment_date>
    <wp:comment_date_gmt>2014-02-27 19:39:44</wp:comment_date_gmt>
    <wp:comment_content><![CDATA[It's a bit complicated to explain from the user side and the power user side also.

I been on both sides, I had a site hosted with godaddy ages ago, my main complain at that time it was slow support and overloaded server's I stayed with them for 6 months (1 term of 3 months and 3 monthly payments)

After that it was site5 trial, they worked great most of the time, very few issues with uptime what killed me it was their CPU policy a joomla based site used a lot of CPU according to their logs and their hard limit on email sent by the hour kill the site (forum mostly active). I stayed with them for one year.

Time for crucialwebhost at the beginning it was great, but suddenly they decided to change to their "split-shared technology" it was more expensive and when things went wrong they really went 3 downtimes in a year due to a server crash (virtuozzo was blamed in one, bad HD’s in another and the last one was dead server). Time used: 1 year.

It was mediatemple time (a lot of expectation) a lot of buzz but awful implementation of the technology a lot of issues with storage and with mysql (I was on their v1 platform). Total time with them: 5 months

Webfaction their panel and the ability to be able to run almost anything on their servers make them a special hybrid host (between managed vps and shared host) their uptime has been good, my main complain for ages has been "no working email quotas per email account", once a site was on a very old server but they moved it to a newer one and the site continue running fine (drupal and phpbb2). Time with them: 3 years

I want to believe that the issues I had with them have disappear and they have improve after all this time. Regarding the support side, most of them are helpfull when you hit a brick wall and some of them even go beyond basic support (crucialwebhost they helped me find and fix a hacked joomla site when I was traveling and I was without a computer and stable net access, also kudos for Webfaction once I decided to try running a private instance of mysql and I screwed up something, losing data they help me by recovering most of the data). 

Webhosting is a hit or a miss, sometimes you have a great host but luck it’s not on your side and others it’s your own fault and it’s difficult to accept it.]]></wp:comment_content>
    <wp:comment_approved>1</wp:comment_approved>
    <wp:comment_type></wp:comment_type>
    <wp:comment_parent>0</wp:comment_parent>
    <wp:comment_user_id>0</wp:comment_user_id>
  </wp:comment>
  <wp:comment>
    <wp:comment_id>10</wp:comment_id>
    <wp:comment_author><![CDATA[raindog308]]></wp:comment_author>
    <wp:comment_author_email>raindog308@raindog308.com</wp:comment_author_email>
    <wp:comment_author_url>http://www.vpsadvice.com</wp:comment_author_url>
    <wp:comment_author_IP>24.21.184.189</wp:comment_author_IP>
    <wp:comment_date>2014-03-01 21:07:23</wp:comment_date>
    <wp:comment_date_gmt>2014-03-01 21:07:23</wp:comment_date_gmt>
    <wp:comment_content><![CDATA[I thought you were going to say "HostGator" right up until you said "GoDaddy".]]></wp:comment_content>
    <wp:comment_approved>1</wp:comment_approved>
    <wp:comment_type></wp:comment_type>
    <wp:comment_parent>0</wp:comment_parent>
    <wp:comment_user_id>0</wp:comment_user_id>
  </wp:comment>
</item>
<item>
  <title>CentOS 6.5 x64 LAMP Easy Setup Script</title>
  <link>https://jarland.me/centos-6-5-x64-lamp-easy-setup-script/</link>
  <pubDate>Sat, 01 Mar 2014 02:11:43 +0000</pubDate>
  <dc:creator>jarland</dc:creator>
  <guid isPermaLink="false">http://jarland.me/?p=37</guid>
  <description></description>
  <content:encoded><![CDATA[In a previous blog post I outlined the steps that I follow to set up Apache, PHP, MySQL, mod_pagespeed, and Varnish on a CentOS 5.4 system. I have an updated setup for my CentOS 6.5 stack right now. This version includes all of the above with the exception of Varnish.

Rather than give you a new guide, I've gone a step further. I have created a simple bash script which simply executes everything you need, including securing the MySQL installation. This is designed for CentOS 6.5 64-bit. This works with CentOS 6.5 x86_64 minimal KVM template by SolusVM.

At the top there are several variables that are explained, but I will explain beforehand as well. You will need to edit these variables. These consist of the MySQL root password, the username and password of the user which your first site will run under, your e-mail address, and the domain (without www) that will be first configured for you. It is very important that you change these.

Download this script at GitHub:
<a href="https://github.com/jarland/ServerScripts/blob/master/centos65stack.sh">https://github.com/jarland/ServerScripts/blob/master/centos65stack.sh</a>]]></content:encoded>
  <excerpt:encoded><![CDATA[]]></excerpt:encoded>
  <wp:post_id>37</wp:post_id>
  <wp:post_date>2014-03-01 02:11:43</wp:post_date>
  <wp:post_date_gmt>2014-03-01 02:11:43</wp:post_date_gmt>
  <wp:comment_status>open</wp:comment_status>
  <wp:ping_status>open</wp:ping_status>
  <wp:post_name>centos-6-5-x64-lamp-easy-setup-script</wp:post_name>
  <wp:status>publish</wp:status>
  <wp:post_parent>0</wp:post_parent>
  <wp:menu_order>0</wp:menu_order>
  <wp:post_type>post</wp:post_type>
  <wp:post_password></wp:post_password>
  <wp:is_sticky>0</wp:is_sticky>
  <category domain="category" nicename="scripts"><![CDATA[Scripts]]></category>
  <wp:postmeta>
    <wp:meta_key>_wpas_done_all</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_edit_last</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_wpas_done_all</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_et_post_bg_color</wp:meta_key>
    <wp:meta_value><![CDATA[#ffffff]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_et_post_bg_layout</wp:meta_key>
    <wp:meta_value><![CDATA[dark]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_format_link_url</wp:meta_key>
    <wp:meta_value><![CDATA[]]></wp:meta_value>
  </wp:postmeta>
</item>
<item>
  <title>552594_1394045960816907_501387764_n</title>
  <link>https://jarland.me/?attachment_id=49</link>
  <pubDate>Tue, 19 Aug 2014 23:11:51 +0000</pubDate>
  <dc:creator>jarland</dc:creator>
  <guid isPermaLink="false">http://jarland.me/wp-content/uploads/2014/08/552594_1394045960816907_501387764_n.jpg</guid>
  <description></description>
  <content:encoded><![CDATA[]]></content:encoded>
  <excerpt:encoded><![CDATA[]]></excerpt:encoded>
  <wp:post_id>49</wp:post_id>
  <wp:post_date>2014-08-19 23:11:51</wp:post_date>
  <wp:post_date_gmt>2014-08-19 23:11:51</wp:post_date_gmt>
  <wp:comment_status>closed</wp:comment_status>
  <wp:ping_status>closed</wp:ping_status>
  <wp:post_name>552594_1394045960816907_501387764_n</wp:post_name>
  <wp:status>inherit</wp:status>
  <wp:post_parent>0</wp:post_parent>
  <wp:menu_order>0</wp:menu_order>
  <wp:post_type>attachment</wp:post_type>
  <wp:post_password></wp:post_password>
  <wp:is_sticky>0</wp:is_sticky>
  <wp:attachment_url>https://jarland.me/wp-content/uploads/2014/08/552594_1394045960816907_501387764_n.jpg</wp:attachment_url>
</item>
<item>
  <title>Enable IPTables Modules on OpenVZ</title>
  <link>https://jarland.me/enable-iptables-modules-on-openvz/</link>
  <pubDate>Wed, 20 Aug 2014 00:03:15 +0000</pubDate>
  <dc:creator>jarland</dc:creator>
  <guid isPermaLink="false">http://jarland.me/?p=51</guid>
  <description></description>
  <content:encoded><![CDATA[This applies to OpenVZ on RHEL based Linux systems.

This would also be known as the guide on how to make CSF work properly on an OpenVZ container. There are guides all over the internet about how to do this. As of a while back, these are almost all incorrect and will result in failure, as well as significant confusion.

You see, with the release of vzctl 4.7 the iptables value in container configuration (--iptables flag to vzctl) became useless. To make matters worse, VZ still accepts the flag and the variable in container configuration without producing any errors. As a result, you have either driven yourself insane trying to make CSF work, or your clients have driven you insane in the process. Fear not, friend, I can help.

<em><strong>Step 1.
</strong></em>

Open /etc/modprobe.d/openvz.conf and look for this line:
<blockquote>options nf_conntrack ip_conntrack_disable_ve0=1</blockquote>
Change this to:
<blockquote>options nf_conntrack ip_conntrack_disable_ve0=0

&nbsp;</blockquote>
<strong><em>Step 2.</em></strong>

Enable netfilter on the container. In my example, the container ID is 100. Replace this with the container ID that fits your situation.
<blockquote>vzctl set 101 --netfilter full --save</blockquote>
<em><strong>Step 3.</strong></em>

Restart the container.
<blockquote>vzctl restart 101</blockquote>
That's it. Enjoy!]]></content:encoded>
  <excerpt:encoded><![CDATA[]]></excerpt:encoded>
  <wp:post_id>51</wp:post_id>
  <wp:post_date>2014-08-20 00:03:15</wp:post_date>
  <wp:post_date_gmt>2014-08-20 00:03:15</wp:post_date_gmt>
  <wp:comment_status>closed</wp:comment_status>
  <wp:ping_status>closed</wp:ping_status>
  <wp:post_name>enable-iptables-modules-on-openvz</wp:post_name>
  <wp:status>publish</wp:status>
  <wp:post_parent>0</wp:post_parent>
  <wp:menu_order>0</wp:menu_order>
  <wp:post_type>post</wp:post_type>
  <wp:post_password></wp:post_password>
  <wp:is_sticky>0</wp:is_sticky>
  <category domain="category" nicename="tutorials"><![CDATA[Tutorials]]></category>
  <wp:postmeta>
    <wp:meta_key>_edit_last</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_wpas_done_all</wp:meta_key>
    <wp:meta_value><![CDATA[1]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_et_post_bg_color</wp:meta_key>
    <wp:meta_value><![CDATA[#ffffff]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_et_post_bg_layout</wp:meta_key>
    <wp:meta_value><![CDATA[dark]]></wp:meta_value>
  </wp:postmeta>
  <wp:postmeta>
    <wp:meta_key>_format_link_url</wp:meta_key>
    <wp:meta_value><![CDATA[]]></wp:meta_value>
  </wp:postmeta>
</item>
  </channel>
</rss>
